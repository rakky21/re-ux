{"ast":null,"code":"var colour = require('./colour');\n\nvar bus = require('./bus');\n\nvar required = false;\nvar useColours = true;\nvar coding = {\n  log: 'black',\n  info: 'yellow',\n  status: 'green',\n  detail: 'yellow',\n  fail: 'red',\n  error: 'red'\n};\n\nfunction log(type, text) {\n  var msg = '[nodemon] ' + (text || '');\n\n  if (useColours) {\n    msg = colour(coding[type], msg);\n  } // always push the message through our bus, using nextTick\n  // to help testing and get _out of_ promises.\n\n\n  process.nextTick(() => {\n    bus.emit('log', {\n      type: type,\n      message: text,\n      colour: msg\n    });\n  }); // but if we're running on the command line, also echo out\n  // question: should we actually just consume our own events?\n\n  if (!required) {\n    if (type === 'error') {\n      console.error(msg);\n    } else {\n      console.log(msg || '');\n    }\n  }\n}\n\nvar Logger = function (r) {\n  if (!(this instanceof Logger)) {\n    return new Logger(r);\n  }\n\n  this.required(r);\n  return this;\n};\n\nObject.keys(coding).forEach(function (type) {\n  Logger.prototype[type] = log.bind(null, type);\n}); // detail is for messages that are turned on during debug\n\nLogger.prototype.detail = function (msg) {\n  if (this.debug) {\n    log('detail', msg);\n  }\n};\n\nLogger.prototype.required = function (val) {\n  required = val;\n};\n\nLogger.prototype.debug = false;\n\nLogger.prototype._log = function (type, msg) {\n  if (required) {\n    bus.emit('log', {\n      type: type,\n      message: msg || '',\n      colour: msg || ''\n    });\n  } else if (type === 'error') {\n    console.error(msg);\n  } else {\n    console.log(msg || '');\n  }\n};\n\nObject.defineProperty(Logger.prototype, 'useColours', {\n  set: function (val) {\n    useColours = val;\n  },\n  get: function () {\n    return useColours;\n  }\n});\nmodule.exports = Logger;","map":{"version":3,"sources":["C:/Users/rakky/codingOG/homework/node_modules/nodemon/lib/utils/log.js"],"names":["colour","require","bus","required","useColours","coding","log","info","status","detail","fail","error","type","text","msg","process","nextTick","emit","message","console","Logger","r","Object","keys","forEach","prototype","bind","debug","val","_log","defineProperty","set","get","module","exports"],"mappings":"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","sourcesContent":["var colour = require('./colour');\nvar bus = require('./bus');\nvar required = false;\nvar useColours = true;\n\nvar coding = {\n  log: 'black',\n  info: 'yellow',\n  status: 'green',\n  detail: 'yellow',\n  fail: 'red',\n  error: 'red',\n};\n\nfunction log(type, text) {\n  var msg = '[nodemon] ' + (text || '');\n\n  if (useColours) {\n    msg = colour(coding[type], msg);\n  }\n\n  // always push the message through our bus, using nextTick\n  // to help testing and get _out of_ promises.\n  process.nextTick(() => {\n    bus.emit('log', { type: type, message: text, colour: msg });\n  });\n\n  // but if we're running on the command line, also echo out\n  // question: should we actually just consume our own events?\n  if (!required) {\n    if (type === 'error') {\n      console.error(msg);\n    } else {\n      console.log(msg || '');\n    }\n  }\n}\n\nvar Logger = function (r) {\n  if (!(this instanceof Logger)) {\n    return new Logger(r);\n  }\n  this.required(r);\n  return this;\n};\n\nObject.keys(coding).forEach(function (type) {\n  Logger.prototype[type] = log.bind(null, type);\n});\n\n// detail is for messages that are turned on during debug\nLogger.prototype.detail = function (msg) {\n  if (this.debug) {\n    log('detail', msg);\n  }\n};\n\nLogger.prototype.required = function (val) {\n  required = val;\n};\n\nLogger.prototype.debug = false;\nLogger.prototype._log = function (type, msg) {\n  if (required) {\n    bus.emit('log', { type: type, message: msg || '', colour: msg || '' });\n  } else if (type === 'error') {\n    console.error(msg);\n  } else {\n    console.log(msg || '');\n  }\n};\n\nObject.defineProperty(Logger.prototype, 'useColours', {\n  set: function (val) {\n    useColours = val;\n  },\n  get: function () {\n    return useColours;\n  },\n});\n\nmodule.exports = Logger;\n"]},"metadata":{},"sourceType":"script"}